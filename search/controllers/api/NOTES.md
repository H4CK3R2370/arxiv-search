# Notes for Boolean search implementation
There are three operators:
- `AND`
- `OR`
- `ANDNOT`

`ANDNOT` is needed for legacy support and gets moved to `NOT` in the NG implementation.

The class `domain.advanced.FieldedSearchTerm` has boolean operator support.

`FieldedSearchTerm` instances are generated by `controllers.api._get_fielded_terms` based on the fields in the `params` sent to the `search()` function. However, this method doesn't handle operators.

What we need are a set of calling conventions to pass the booleans from the current set to the next function.

By default the first term is an `AND`, fields after that will require an operator.

`advanced_search` prepares an Elasticsearch object from an `AdvancedQuery`.

Our implementation needs to target generating an `AdvancedSearch`. This will require keeping track of the order of fields and the order of booleans.


How do we toggle between a standard and an advanced search without making the `controllers.api.search` method too complicated?

First, I'm going to handle the `_parse_search_query` method and have it return a dictionary of field-operators and a dictionary of field-terms.

# Note on AdvancedQuery
AdvancedQuery only has a `classification` for filtering results - not `primary_classification` and `secondary_classification` This is a better analog to current functionality anyways.

# Implementing parens
We don't yet have a way to group parenthetical search terms. This may be a limitation in our 0.2 release for further thinking later, since I think we'd have to refactor our representations quite a bit to allow for nested `domain.advanced.FieldedSearchList`s.